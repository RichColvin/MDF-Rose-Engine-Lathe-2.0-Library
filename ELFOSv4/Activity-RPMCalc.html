<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<html>

<head bgcolor=#E6E6E6>
<title>ELFOS</title>
<link rel="shortcut icon" type="image/ico" href="favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="Images/favicon.png">

<body style="background-color: #E6E6E6; font: 16px Arial; ">

<!-- ################################################### -->
<!-- Code for Including Standard HTML files on the 	 -->
<!-- server					         -->
<!-- ################################################### -->
<script src="library.js"></script>

<script>
function includeHTML() {
  var z, i, elmnt, file, xhttp;
  /* Loop through a collection of all HTML elements: */
  z = document.getElementsByTagName("*");
  for (i = 0; i < z.length; i++) {
    elmnt = z[i];
    /*search for elements with a certain atrribute:*/
    file = elmnt.getAttribute("w3-include-html");
    if (file) {
      /* Make an HTTP request using the attribute value as the file name: */
      xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
          if (this.status == 200) {elmnt.innerHTML = this.responseText;}
          if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
          /* Remove the attribute, and call this function once more: */
          elmnt.removeAttribute("w3-include-html");
          includeHTML();
        }
      }
      xhttp.open("GET", file, true);
      xhttp.send();
      /* Exit the function: */
      return;
    }
  }
}
</script> 

<!-- ################################################### -->
<!-- Site Standards Include File        		  		 -->
<div w3-include-html="include-SiteStandards.html"></div> 
<script>
includeHTML();
</script>

<!-- ################################################### -->
<!-- Get the values needed -->
<script>
    function calcValues()    {

	var fmmInch = 0.0393701;
	var x = document.getElementById("frm1");

// ###################################################
// Get the rosette's actual number of lobes
//
	iLobesActual = Number(x.elements[0].value);

// ###################################################
// Get the number of rosette lobes desired
//
	iLobesDesired = Number(x.elements[1].value);

// ###################################################
// Get the Z Axis Target
//
	fZ = Number(x.elements[2].value);
			
// ###################################################
// Get the spindle step-over per revolution 
//
	fStepover = Number(x.elements[3].value);

// ###################################################
// Get the amount of revolution of the rosette's pattern across the Z distance
//
	fRosetteRev = Number(x.elements[4].value);

// ###################################################
// Get the final average diameter
//
	fRootDia = Number(x.elements[5].value);

// ###################################################
// Get the helix direction
//

    var bPatternDir = "Right";

    const buttons = document.querySelectorAll("input[type='radio']");
    if (buttons[0].checked) {
        bPatternDir = "Right";
	} else {
        bPatternDir = "Left";
	};

// ###################################################
// Get the Z axis direction
//

    var bZDir = "Right";

    if (buttons[2].checked) {
        bZDir = "Away";
	} else {
        bZDir = "Towards";
	};

// ###################################################
// Calculate the Values
//

    const PinkCCW = "Images/Buttons/PinkCCW.jpg";
    const PinkIn = "Images/Buttons/PinkIn.jpg";

    const GreenCW = "Images/Buttons/GreenCW.jpg";
    const GreenOut = "Images/Buttons/GreenOut.jpg";
    
    const UCFCW = "Images/Buttons/EmptyCW.png";
    const UCFCCW = "Images/Buttons/EmptyCCW.png";
    
    var fLobeMult = iLobesDesired / iLobesActual;

	var fZImp = fZ;

	var fRootDiaImp = fRootDia;

	var fSpTgt = 360 * fZ / fStepover;
	var fM3TgtL = (fSpTgt + fRosetteRev)* fLobeMult;
	var fM3TgtR = (fSpTgt - fRosetteRev)* fLobeMult;
//	This seems to be the correct formulae, but testing has shown it to be incorrect.
//	var fM3TgtL = (fSpTgt * fLobeMult) + fRosetteRev;
//	var fM3TgtR = (fSpTgt * fLobeMult) - fRosetteRev;

    var fOpp = fRootDiaImp * Math.PI * (fRosetteRev / 360);
    var fAdj = fZ;
    var fUCFRotL = Math.atan(fOpp / fAdj) * 180 / Math.PI;

    document.getElementById("ZImpTgt").innerHTML = fZImp.toFixed(1);

	if (bPatternDir == "Right") {
        document.getElementById("M3Tgt").innerHTML = parseFloat(fM3TgtR.toFixed(0)).toLocaleString();
        document.getElementById("UCFDirText").innerHTML = "Clockwise";
    } else {
        document.getElementById("M3Tgt").innerHTML = parseFloat(fM3TgtL.toFixed(0)).toLocaleString();
        document.getElementById("UCFDirText").innerHTML = "Counter Clockwise";
    };

	if (bPatternDir=="Right" && bZDir == "Away") {
        var image = document.getElementById("ZDir");
        image.src = GreenOut;
        image = document.getElementById("M3Dir");
        image.src = GreenCW;
        image = document.getElementById("SpDir");
        image.src = GreenCW;
        image = document.getElementById("UCFDir");
        image.src = UCFCW;
	} else if (bPatternDir=="Left" && bZDir == "Away") {
        var image = document.getElementById("ZDir");
        image.src = GreenOut;
        image = document.getElementById("M3Dir");
        image.src = GreenCW;
        image = document.getElementById("SpDir");
        image.src = GreenCW;
        image = document.getElementById("UCFDir");
        image.src = UCFCCW;
	} else if (bPatternDir=="Left" && bZDir == "Towards") {
        var image = document.getElementById("ZDir");
        image.src = PinkIn;
        image = document.getElementById("M3Dir");
        image.src = PinkCCW;
        image = document.getElementById("SpDir");
        image.src = PinkCCW;
        image = document.getElementById("UCFDir");
        image.src = UCFCCW;
    } else {
        var image = document.getElementById("ZDir");
        image.src = PinkIn;
        image = document.getElementById("M3Dir");
        image.src = PinkCCW;
        image = document.getElementById("SpDir");
        image.src = PinkCCW;
        image = document.getElementById("UCFDir");
        image.src = UCFCW;
    };

    document.getElementById("SpTgt").innerHTML = parseFloat(fSpTgt.toFixed(0)).toLocaleString();

    document.getElementById("UCFRotR1").innerHTML = fUCFRotL.toFixed(1);
    }
</script>

</head>

<!-- ################################################### -->
<!-- Body                                                -->
<!-- ################################################### -->

<body bgcolor=#E6E6E6 background="Images/DevBackground.png" class="" id="" onload='hideTotal()'>

<font face="Georgia">

<p>Calculations needed for <b>dynamic phasing</b> when using the <a href="https://ornamentalturners.com/wiki/index.php?n=Main.RosettePhaserMultiplier" >Rosette Phaser / Multiplier</a> are based on the data in the table below.  Input fields on this screen are <span style="background-color: #FFEE9C"><b>&nbsp;colored yellow&nbsp;</b></span>. 

<p>Once you have entered your desired values, scroll down and click the button below, <span style="background-color:#0404B4"><font color="white">&nbsp;Calculate MultiSync Values&nbsp;</font></span>

<form id="frm1">

    <table style="border-collapse: collapse; width: 100%; ">
		<col width="300px">
    	<col width="200px">
    	<col width="*">

        <tr style="background-color: DarkGreen;
                vertical-align: bottom;
                ">
            <td colspan="3" style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: thick;
                    border-right-width: thick;
                    text-align: center;
                    ">
                <font size=5 color="white"><b>Data Input</b></font>
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td colspan="3" style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: thick;
                    text-align: left;
                    ">
                <font size=5 color="darkgreen"><b>Rosette Multiplication</b></font>
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				Actual Rosette Lobes
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: 0px;
                    text-align: left;
                    ">
 				<input 
	 				type="number"
 					style="font-size:14px; text-align: right; width: 55px; background-color:#FFEE9C" 
 					name="RosetteLobesActual" 
					step='1' 
					placeholder='0'
 					value=8
					/>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: thick;
                    text-align: left;
                    ">
				Number of lobes on the rosette
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: thick;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				Desired Rosette Lobes
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: 0px;
                    border-right-width: 0px;
                    text-align: left;
                    ">
 				<input 
	 				type="number"
 					style="font-size:14px; text-align: right; width: 55px; background-color:#FFEE9C" 
 					name="RosetteLobesDesired" 
					step='1' 
					placeholder='8' 
 					value=8
				/>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: 0px;
                    border-right-width: thick;
                    text-align: left;
                    ">
                Lobes desired
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td colspan="3" style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: thick;
                    text-align: left;
                    ">
                <font size=5 color="darkgreen"><b>Rosette Phasing</b></font>
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				Z Axis Target
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: 0px;
                    text-align: left;
                    ">
 				<input 
	 				type="number"
 					style="font-size:14px; text-align: right; width: 55px; background-color:#FFEE9C" 
 					name="ZImp" 
					step='0.1' 
					placeholder='0.0' 
 					value=2.0
	    			/>
					&nbsp;in
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: thick;
                    text-align: left;
                    ">
                Distance travelled along the Z axis.
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				Z Axis Stepover per Revolution
				</td>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: 0px;
                    text-align: left;
                    ">
 				<input 
	 				type="number"
 					style="font-size:14px; text-align: right; width: 55px; background-color:#FFEE9C" 
 					name="Stepover" 
					step='0.001' 
					placeholder='0.000' 
 					value=0.020
					/>
					&nbsp;in
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: thick;
                    text-align: left;
                    ">
				<p style="margin-top: 0; margin-bottom: 0;">Distance moved along the Z axis per revolution of the spindle.  For the desired surface finish, use these values:
			        <ul style="margin-top: 0; margin-bottom: 0;">
			            <li><b>Rough</b> &gt; 0.100&quot;</li>
			            <li><b>Fine</b> &#61; 0.020&quot; - 0.030&quot;</li>
			            <li><b>Very Fine</b> &le; 0.005&quot;</li>
			        </ul>
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				Rosette Pattern Rotation
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				<input 
	 				type="number"
 					style="font-size:14px; text-align: right; width: 55px; background-color:#FFEE9C" 
 					name="RosetteRev" 
					step='0' 
					placeholder='0' 
 					value=90
					/>
					&nbsp;&deg;
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: thick;
                    text-align: left;
                    ">
				Amount of revolution of the rosette's pattern across the Z distance.
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				Final Average Diameter
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: 0px;
                    text-align: left;
                    ">
 				<input 
	 				type="number"
 					style="font-size:14px; text-align: right; width: 55px; background-color:#FFEE9C" 
 					name="RootDiaImp" 
					step='0.1' 
					placeholder='0.0' 
 					value=2.0
				/>
				&nbsp;in
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: thick;
                    text-align: left;
                    ">
				Diameter of the object at the middle of the cutting.  This is used to calculate the rotation of the UCF.  If using this on a curvilinear slide, it is the average diameter of the piece.
            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				Rosette Pattern's Direction of Rotation
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: 0px;
                    text-align: left;
                    ">
 				<input 
	 				type="radio"
 					id="HelixRight"
 					name="HelixDir" 
 					value="HelixRight"
 					checked
					/>
				<label for="HelixRight">Right</label>	
				<br>
 				<input 
	 				type="radio"
 					id="HelixLeft" 
 					name="HelixDir"
 					value="HelixLeft"
					/>
				<label for="HelixLeft">Left</label>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: 0px;
                    border-right-width: thick;
                    text-align: left;
                    ">
                This is the direction of the rotation of the rosette's pattern around the spindle axis.  A right (handed) helix is like a standard screw.

            </td>
        </tr>

        <tr style="background-color: #d0f0c0;
                vertical-align: top;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: thick;
                    border-right-width: 0px;
                    text-align: left;
                    ">
				Z Axis Direction
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: 0px;
                    border-right-width: 0px;
                    text-align: left;
                    ">
 				<input 
	 				type="radio"
 					id="ZRight"
 					name="ZDir" 
 					value="ZRight"
 					checked
					/>
				<label for="ZRight">Away from Headstock</label>		
				<br>
 				<input 
	 				type="radio"
 					id="ZLeft" 
 					name="ZDir"
 					value="ZLeft"
					/>
				<label for="ZLeft">Towards Headstock</label>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: 0px;
                    border-right-width: thick;
                    text-align: left;
                    ">
			    This is the direction of movement along the Z axis.
            </td>
        </tr>
    </table>
		
<!-- ################################################### -->
<!-- Data Used on MultiSync Page -->

    <table style="border-collapse: collapse; width: 100%; ">
		<col width="80px">
		<col width="40px">
		<col width="70px">
		<col width="80px">
		<col width="70px">
		<col width="60px">
    	<col width="*">

        <tr style="background-color: DarkBlue;
                vertical-align: bottom;
                ">
            <td colspan="6" style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: thick;
                    border-right-width: medium;
                    text-align: center;
                    ">
                <font size=5 color="white"><b>MultiSync Page Data</b></font>
            </td>
            <td colspan="1" style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: medium;
                    border-right-width: thick;
                    text-align: center;
                    ">
                <font size=5 color="white"><b>UCF Rotation</b></font>
            </td>
        </tr>

        <tr style="background-color: #e6ecff;
                vertical-align: bottom;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: thick;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <b>Run Single</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <b>&#10003;</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <b>Dir</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <b>Target</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <b>Max Speed</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: thin;
                    border-right-width: medium;
                    text-align: center;
                    ">
                <b>%</b>
            </td>

            <td rowspan=6 style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: medium;
                    border-left-width: medium;
                    border-right-width: thin;
                    text-align: center;
                    vertical-align: middle;
                    ">
<!-- ################################################### -->
<!-- UCF Rotation -->
                <p style="margin-top: 0px;">Rotational Angle of the UCF (&deg;)
   			    
   			    <p id="UCFRotR1" style="margin: 0px; padding: 0px;"></p>
                <p id="UCFDirText" style="margin: 0px; padding: 0px;"></p>

                <p style="margin-top: 0px;"><img src="" id="UCFDir" width="50px" height="50px" />
                <p>As seen from the operator side
            </td>
        </tr>

        <tr style="background-color: White;
                vertical-align: middle;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <b>Z</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <font size=5>&#9635;</font>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <img src="" id="ZDir" width="50px" height="50px" />
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
                <font face="Arial" size="3px">
                <p id="ZImpTgt" style="margin: 0px; padding: 0px;"></p>
   	 		    </font>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
                5000
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thick;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: medium;
                    text-align: right;
                    ">
                100
            </td>
        </tr>

        <tr style="background-color: White;
                vertical-align: middle;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: thin;
                    text-align: center;
                    ">
        		<b>X</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <font size=5>&#9634;</font>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
    		    &nbsp;
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
    		    &nbsp;
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
    		    &nbsp;
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: medium;
                    text-align: right;
                    ">
    		    &nbsp;
            </td>
        </tr>

        <tr style="background-color: White;
                vertical-align: middle;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: thin;
                    text-align: center;
                    ">
            	<b>M3</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
             	<font size=5>&#9635;</font>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <img src="" id="M3Dir" width="50px" height="50px" />
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
                <font face="Arial" size="3px">
   		   		<p id="M3Tgt" style="margin: 0px; padding: 0px;"></p>
   	 		    </font>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
                15000
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: medium;
                    text-align: right;
                    ">
                100
            </td>
        </tr>

        <tr style="background-color: White;
                vertical-align: middle;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thick;
                    border-right-width: thin;
                    text-align: center;
                    ">
        		<b>M4</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <font size=5>&#9634;</font>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
    		    &nbsp;
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
    		    &nbsp;
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
    		    &nbsp;
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thin;
                    border-left-width: thin;
                    border-right-width: medium;
                    text-align: right;
                    ">
    		    &nbsp;
            </td>
        </tr>

        <tr style="background-color: White;
                vertical-align: middle;
                ">
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: thick;
                    border-right-width: thin;
                    text-align: center;
                    ">
    		    <b>Spindle</b>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <font size=5>&#9635;</font>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: center;
                    ">
                <img src="" id="SpDir" width="50px" height="50px" />
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
                    <font face="Arial" size="3px">
   			        <p id="SpTgt" style="margin: 0px; padding: 0px;"></p>
   			 	    </font>
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: thin;
                    border-right-width: thin;
                    text-align: right;
                    ">
    		    5000
            </td>
            <td style="
                    border-style: solid;
                    border-color: black;
                    border-top-width: thin;
                    border-bottom-width: thick;
                    border-left-width: thin;
                    border-right-width: medium;
                    text-align: center;
                    ">
    		    &#9312;
            </td>
        </tr>
    </table>
</form>

<p><b><u>Notes</u>:</b>
<ol>
    <li>Set speed as appropriate</li>
</ol>
    		    

<p>
<center>
    <button autofocus type="button" onclick="calcValues()" style="font-size:20px; background-color: #0404B4; color: white;">
	Calculate MultiSync Values
    </button>
</center>

<!-- ################################################### -->
<!-- Usage Notes -->
<hr class="style2">
<h3><font color="DarkBlue">Usage Notes</font></h3>

    <ol>
        <li>The system will run at the slowest selected speed.  Therefore, these settings are at the max for Z and M3, allowing the speed settings for the Spindle to control all 3.</li>
        
        <br>
        <li>There are other means for achieving such rotation; however this is presented as one for helping you achieve your goals.  As you grow your skills, you will find other approaches may be better.  The overarching ideas with this approach are:</li>

        <br>
            <ol type="a">
                <li>The Z axis direction sets the direction of cut.</li>
                    
                <br>
                <li>There is a relationship between the M3&deg; and the Spindle&deg;:</li>
                    <ol type="i">
                        <li>M3&deg; < Spindle&deg; = pattern rotates in a right helix</li>
                        <li>M3&deg; > Spindle&deg; = pattern rotates in a left helix</li>
                    </ol>
                    
                <br>
                <li>The direction of pattern rotation sets the direction of UCF rotation.  This does not change based on the direction of movement on the Z axis.</li>
                    <ol type="i">
                        <li>A right helical pattern rotation requires the UCF to be rotated clockwise (when observed from the operator side).</li>
                        <li>A left helical pattern rotation requires the UCF to be rotated counter clockwise (when observed from the operator side).</li>
                    </ol>

                    <p>You should ensure the UCF is rotated the correct direction for the direction of the rosette's pattern rotation.  When rotated correctly, there is a smooth line for the root of the helix.  A light cut on the first pass can help assure proper direction of rotation.</li>
                    
                <br>
                <li>You must ensure the Spindle and M3 axes are rotating the same direction</li>
        
                    <table>
                        <tr>
                            <td colspan=3>
                                <table border=1 width="100%">
                        			<tr bgcolor="Moccasin">
 	       	                    	    <td align="Center" colspan=2>
   			      		                  <font color="DarkBlue"><b>Correct</b></font>
                    				    </td>
                    	            </tr>
                                </table>
                            </td>

                            <td width="50px">
                                &nbsp;
                            </td>

                            <td colspan=3>
                                <table border=1 width="100%">
                        			<tr bgcolor="DarkRed">
 	       	                    	    <td align="Center" colspan=2>
   			      		                  <font color="Moccasin"><b>Incorrect</b></font>
            				            </td>
                    	            </tr>
                                </table>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <table border=1>
    		            	        <col width="75px">
            			            <col width="75px">

            		            	<tr bgcolor="Moccasin">
 	              		            	<td align="Center">
   			            		           <font color="DarkBlue"><b>Spindle</b></font>
            		        		    </td>
 	       	            	        	<td align="Center">
   			      		                   <font color="DarkBlue"><b>M3</b></font>
                    				    </td>
    	        	            	</tr>

                                    <tr>
                                        <td align="center" bgcolor=#FFB3B6>
                                            <img src="Images/Buttons/PinkCCW.jpg" width="40px">
                                        </td>
                                        <td align="center" bgcolor=#FFB3B6>
                                            <img src="Images/Buttons/PinkCCW.jpg" width="40px">
                                        </td>
                                    </tr>
                                </table>
                            </td>

                            <td>
                                <b><i>or</i></b>
                            </td>

                            <td>
                                <table border=1>
    		                    	<col width="75px">
    			                    <col width="75px">

            		            	<tr bgcolor="Moccasin">
 	              		            	<td align="Center">
   			            		           <font color="DarkBlue"><b>Spindle</b></font>
            		        		    </td>
 	       	            	        	<td align="Center">
   			      		                   <font color="DarkBlue"><b>M3</b></font>
                    				    </td>
    	        	            	</tr>

                                    <tr>
                                        <td align="center" bgcolor=#a3d6b3>
                                            <img src="Images/Buttons/GreenCW.jpg" width="40px">
                                        </td>
                                        <td align="center" bgcolor=#a3d6b3>
                                            <img src="Images/Buttons/GreenCW.jpg" width="40px">
                                        </td>
                                    </tr>
                                </table>
                            </td>

                            <td width="50px">
                                &nbsp;
                            </td>

                            <td>
                                <table border=1>
    		                    	<col width="75px">
    			                    <col width="75px">

            		            	<tr bgcolor="DarkRed">
 	              			            <td align="Center">
                    			      		<font color="Moccasin"><b>Spindle</b></font>
			                    	    </td>
 	       			                    <td align="Center">
               			      		       <font color="Moccasin"><b>M3</b></font>
        			            	    </td>
                        			</tr>

                                    <tr>
                                        <td align="center" bgcolor=#a3d6b3>
                                            <img src="Images/Buttons/GreenCW.jpg" width="40px">
                                        </td>
                                        <td align="center" bgcolor=#FFB3B6>
                                            <img src="Images/Buttons/PinkCCW.jpg" width="40px">
                                        </td>
                                    </tr>
                                </table>
                            </td>

                            <td>
                                <b><i>or</i></b>
                            </td>

                            <td>
                                <table border=1>
    		                    	<col width="75px">
    			                    <col width="75px">

            		            	<tr bgcolor="DarkRed">
 	              			            <td align="Center">
                    			      		<font color="Moccasin"><b>Spindle</b></font>
			                    	    </td>
 	       			                    <td align="Center">
               			      		       <font color="Moccasin"><b>M3</b></font>
        			            	    </td>
                        			</tr>

                                    <tr>
                                        <td align="center" bgcolor=#FFB3B6>
                                            <img src="Images/Buttons/PinkCCW.jpg" width="40px">
                                        </td>
                                        <td align="center" bgcolor=#a3d6b3>
                                            <img src="Images/Buttons/GreenCW.jpg" width="40px">
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
            </ol>
        
    </ol>

<!-- ################################################### -->
<!-- Equations -->

<hr class="style1">
<h3><font color="DarkBlue">Equations Used for Calculations</font></h3>

\begin{align*}
\tag{1}
Lobe \, Multiplier &=  \frac {Lobes \, Desired} {Lobes \, on \, Rosette} \\

\tag{2}
Spindle \, Target\unicode{xB0} &=  \left(\frac {Z \, Axis \, Target} {Z \, Axis \, Stepover \, per \, Revolution} \right) \cdot 360\unicode{xB0} \\

\tag{3}
M3 \, Target \unicode{xB0} &=  \left(Spindle \, Target\unicode{xB0} + Rosette \, Pattern \, Rotation\unicode{xB0}\right)  \cdot Lobe \, Multiplier \\

\end{align*}

<p>Note, when making a left helix, the Rosette Pattern Rotation will be a negative number.

<!-- ################################################### -->
<!-- Equations -->
<hr class="style1">
<h3><font color="DarkBlue">UCF Rotation Calculation</font></h3>


<div style="float: right; width: 600px; margin: 5px 5px 5px 5px; padding: 5px; border: 0px solid Darkgray;  text-align: center; ">
    <a href="Images/RPM-1.png" target="_new"><img src="Images/RPM-1.png" width="100%" /></a>
    <b>Triangle Wrapped Around a Cylinder</b>
</div>

<p>For the angle to set the universal cutting frame (UCF), imagine there is a triangle where the adjacent side is along the Z axis, and the opposite side is wrapped around the face, perpendicular to the Z axis.  The image to the right shows such a triangle.

</td></tr>
<tr><td>

<h4><font color="DarkBlue">Opposite Side of the Triangle</font></h4>

<p>The cylinder's circumference at the Final Average Diameter is &pi; times that.
A rosette's revolution, specified in degrees (&deg;), would of course be that portion of the cylinder's circumference.  Thus, the <b>Rosette Pattern Rotation</b> distance is calculated as a fraction of the cylinder circumference.

\begin{align*}
\tag{4}
Cylinder \, circumference  &= \pi \cdot Final \, Average \,  Diameter \\
\tag{5}
Rosette \, Pattern \, Revolution \, Distance &= Cylinder \, circumference \cdot \left(\frac {Rosette \, Pattern \, Revolution\unicode{xB0}} {360\unicode{xB0}} \right)
\end{align*}

<h4><font color="DarkBlue">Adjacent Side of the Triangle</font></h4>

<p>For the adjacent side, we use the <b>Z Axis Target</b>. 

<h4><font color="DarkBlue">Calculation of the UCF Rotation Angle</font></h4>

<div style="float: left; width: 300px; margin: 5px 5px 5px 5px; padding: 5px; border: 0px solid Darkgray;  text-align: center; ">
    <a href="Images/RPM-2.png" target="_new"><img src="Images/RPM-2.png" width="100%" /></a>
    <b>Angle to be Calculated</b>
</div>

<p>The <b>UCF Rotation Angle</b> is then calculated using the tan<sup>-1</sup> (<a href="https://www.math.net/arctan" target="_new">arctan</a>) calculation.

\begin{align*}
\tag{6}
UCF \, Rotation  \unicode{xB0} &=  \tan^{-1} \left(\frac {Rosette \, Revolution \, Distance} {Z \, Axis \, Target} \right)
\end{align*}

<table width="100%">
<tr><td>
</td></tr>
</table>

<!-- ################################################### -->
<!-- Footer                                              -->
<!-- ################################################### -->
<div w3-include-html="include-Footer.html"></div> 
<script>
includeHTML();
</script> 
</body>
</html>
