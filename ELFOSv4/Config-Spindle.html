<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<html>

<head bgcolor=#E6E6E6>
<title>ELFOS</title>
<link rel="shortcut icon" type="image/ico" href="favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="Images/favicon.png">

<body style="background-color: #E6E6E6; font: 16px Arial; ">

<!-- ################################################### -->
<!-- Code for Including Standard HTML files on the 	 -->
<!-- server					         -->
<!-- ################################################### -->
<script src="library.js"></script>

<script>
function includeHTML() {
  var z, i, elmnt, file, xhttp;
  /* Loop through a collection of all HTML elements: */
  z = document.getElementsByTagName("*");
  for (i = 0; i < z.length; i++) {
    elmnt = z[i];
    /*search for elements with a certain atrribute:*/
    file = elmnt.getAttribute("w3-include-html");
    if (file) {
      /* Make an HTTP request using the attribute value as the file name: */
      xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
          if (this.status == 200) {elmnt.innerHTML = this.responseText;}
          if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
          /* Remove the attribute, and call this function once more: */
          elmnt.removeAttribute("w3-include-html");
          includeHTML();
        }
      }
      xhttp.open("GET", file, true);
      xhttp.send();
      /* Exit the function: */
      return;
    }
  }
}
</script> 

<!-- ################################################### -->
<!-- Site Standards Include File        		  		 -->
<div w3-include-html="include-SiteStandards.html"></div> 
<script>
includeHTML();
</script>

<!-- ################################################### -->
<!-- Style Sheet for MathJax                             -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!-- ################################################### -->
<!-- Body - Right Side of the Screen                     -->
<!-- ################################################### -->

<body bgcolor=#E6E6E6 background="Images/DevBackground.png">

<div style="float: right;
        margin-top: 0px; margin-bottom: 5px;
        margin-left: 10px; margin-right: 0px; 
        padding-top: 0px; padding-bottom: 0px;
        padding-left: 0px; padding-right: 0px; 
        border: 0px solid black; 
        text-align: left;  
        background-color:#E6E6E6; 
        " >
    
    <img src="Images/Screens/Pref_Spindle.jpg" width="450px" class="Image" alt="HTML Map" border="0" usemap="#html">
    <map name = "html">
        <area shape = "rect" coords = "002,002,075,033" href = "Config-Spindle.html" />
        <area shape = "rect" coords = "002,038,075,069" href = "Config-ZAxis.html" />
        <area shape = "rect" coords = "002,075,075,107" href = "Config-XAxis.html" />
        <area shape = "rect" coords = "002,111,075,143" href = "Config-M3.html" />
        <area shape = "rect" coords = "002,147,075,180" href = "Config-M4.html" />
            
        <area shape = "rect" coords = "376,038,450,070" href = "Config-Limits.html" />
        <area shape = "rect" coords = "376,074,450,106" href = "Config-Returns.html" />
        <area shape = "rect" coords = "376,112,450,143" href = "Config-More.html" />                     
        <area shape = "rect" coords = "376,217,450,252" href = "Config-More-LoadIni.html" />                     

        <area shape = "rect" coords = "375,001,446,033" href = "javascript:history.back()" />
    </map>
</div>

<!-- ################################################### -->
<!-- Body - Left Side of the Screen                      -->
<!-- ################################################### -->

    <table align="Center" border="0">
        <tr height="35px">
            <td align="Center" bgcolor="#3980C0" width="300px">
                <font color="White" size="4"><b>Preferences Screen</b></font>
            </td>
        </tr>
    </table>

    <p><div style="float: right; width: 200px; margin: 5px 5px 5px 5px; padding: 5px; border: 1px solid black; text-align: left; background-color:#3980C0">
        <font color="White" size="2">Touch the buttons on the screen image to the right to see the details for the that screen.</font>
    </div>

    <b>Purpose:</b>  The factors on these screens control how speeds and distances are determined.
        <ul>
            <li style="margin-bottom: 6px;">The values shown in a <span style="background-color: #FFEE9C">&nbsp;tan box&nbsp;</span> show values on the Nextion.  Touching one of the text boxes allows you to edit that value using the <a href="NumberPad.html">Number Pad</a> screen.</li>

            <li>The values shown in a <span style="background-color: LightGray">&nbsp;gray box&nbsp;</span>  show the ones stored on the Teensy controller.  These are read only and should match the settings on the Nextion.</li>
        </ul>

    <table width="100%">
        <col width="125px">
        <col width="*">

        <tr>
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td>
                <span style="background-color: #FFEE9C"><b>&nbsp;Microsteps&nbsp;</b></span>
            </td>
            <td>
                <p style="margin-top: 0;">This must use valid values for the stepper driver, and is usually 1, 2, 4, 16, 32, 64, or 128.  These settings must match the jumper settings on the PCB.

                <p style="margin-bottom: 0;"><span style="background-color: #FFEE9C"><b>&nbsp; 32 &nbsp;</b></span> is the designed value for the MDF Rose Engine Lathe 2.0.
            </td>
        </tr>

        <tr>
            <td colspan=999>
               &nbsp;
            </td>
        </tr>

        <tr valign="top">
            <td>
                <span style="background-color: #FFEE9C"><b>&nbsp;Steps/360&nbsp;</b></span>
            </td>
            <td>
                <p style="margin-top: 0;">This must use valid values for the stepper motor.  The typical step angle is 1.8&deg;, so this would be

\[
\frac{360 &deg;}{1.8 &deg;} = 200
\]

                <p style="margin-bottom: 0;"><span style="background-color: #FFEE9C"><b>&nbsp; 200 &nbsp;</b></span> is the designed value for the MDF Rose Engine Lathe 2.0.
            </td>
        </tr>

        <tr>
            <td colspan=999>
                &nbsp;
            </td>
        </tr>

        <tr valign="top">
            <td>
                <span style="background-color: #FFEE9C"><b>&nbsp;Gear Ratio&nbsp;</b></span>
            </td>
            <td>
                <p style="margin-top: 0;">This is the ratio of the gear on the stepper motor to the gear driving the spindle.  This value drives the calculation of RPM.

                <p style="margin-bottom: 0;"><b>9</b> is the designed value for the MDF Rose Engine Lathe 2.0 (as outlined in <a href = "Documents/MDF RE 2.0 - Instructions, Stepper Controls.pdf" target = "_self">Instructions for Building the Stepper Controls</a>).
            </td>
        </tr>

<!-- ################################################### -->
<!-- Controls   -->

        <tr>
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td>
                <b>Polarity</b>
            </td>
            <td>
                <p style="margin-top: 0;">The <b>Polarity</b> High and Low radio buttons for both Spindle and Z Axis are set as:

                <table>
                    <tr valign="top">
                        <td>
                            <b>High</b>
                        </td>
                        <td width="25px">
                            <img src="Images/CircleUnChecked.png" width="20px" height="20px">
                        </td>
                        <td>
                            High setting is for use for some external stepper drivers
                            
                            <br><br>
                        </td>
                    </tr>
                    <tr valign="top">
                        <td>
                            <b>Low</b>
                        </td>
                        <td width="25px">
                            <img src="Images/CircleChecked.png" width="20px" height="20px">
                        </td>
                        <td>
                            Low is the default, which is the correct setting when using the StepperOnline DM542T and the Pololu DRV8825 Stepper Drivers.
                            
                            <br><br>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>

<!-- ★★★★★★★★★★★★★★★★★★★★★★★★★★★★★  -->
<!-- Starred Point -->

    <table width="100%" border=0>
        <tr valign="top">
            <td width="25px">
                &nbsp;
            </td>

            <td width="*">
                <div style="float: left; width: 30px; margin: 5px 5px 5px 5px; padding: 5px; border: 0px solid DarkGray; text-align: center;">
                    <font color="red" size=6><b>&starf;</b></font>
                </div>
                    
                <p><font color="Red" >Strongly recommend you take care when changing these.</font>
            </td>

            <td width="25px">
                &nbsp;
            </td>
        </tr>
    </table>
</div>

<!-- ################################################### -->
<!-- Footer                                              -->
<!-- ################################################### -->
<div w3-include-html="include-Footer.html"></div> 
<script>
includeHTML();
</script> 
</body>
</html>
