<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<html>

<head bgcolor=#E6E6E6>
<title>ELFOS</title>
<link rel="shortcut icon" type="image/ico" href="favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="Images/favicon.png">

<body style="background-color: #E6E6E6; font: 16px Arial; ">

<!-- ################################################### -->
<!-- Code for Including Standard HTML files on the 	 -->
<!-- server					         -->
<!-- ################################################### -->
<script src="library.js"></script>

<script>
function includeHTML() {
  var z, i, elmnt, file, xhttp;
  /* Loop through a collection of all HTML elements: */
  z = document.getElementsByTagName("*");
  for (i = 0; i < z.length; i++) {
    elmnt = z[i];
    /*search for elements with a certain atrribute:*/
    file = elmnt.getAttribute("w3-include-html");
    if (file) {
      /* Make an HTTP request using the attribute value as the file name: */
      xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
          if (this.status == 200) {elmnt.innerHTML = this.responseText;}
          if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
          /* Remove the attribute, and call this function once more: */
          elmnt.removeAttribute("w3-include-html");
          includeHTML();
        }
      }
      xhttp.open("GET", file, true);
      xhttp.send();
      /* Exit the function: */
      return;
    }
  }
}
</script> 

<!-- ################################################### -->
<!-- Site Standards Include File        		  		 -->
<div w3-include-html="include-SiteStandards.html"></div> 
<script>
includeHTML();
</script>

<!-- ################################################### -->
<!-- Body - Right Side of the Screen                     -->
<!-- ################################################### -->

<body bgcolor=#E6E6E6 background="Images/DevBackground.png">

<div style="float: right;
        margin-top: 0px; margin-bottom: 5px;
        margin-left: 10px; margin-right: 0px; 
        padding-top: 0px; padding-bottom: 0px;
        padding-left: 0px; padding-right: 0px; 
        border: 0px solid black; 
        text-align: left;  
        background-color:#E6E6E6; 
        " >
    <img src = "Images/Screens/Index3.jpg" width = "450px" class = "Image" usemap="#html1">

<!-- area map based on an image size of 450px wide -->
    <map name = "html1">

<!-- Home -->
        <area shape = "rect" coords = "1,1,44,39" 
            href = "Home.html" target = "self"  />

<!-- Main Screen -->
        <area shape = "rect" coords = "79,1,133,39" 
            href = "Main.html" target = "self"  />

<!-- One Screen -->
        <area shape = "rect" coords = "135,1,189,39" 
            href = "One.html" target = "self"  />

<!-- Index Screen -->
        <area shape = "rect" coords = "191,1,245,39" 
            href = "Ind.html" target = "self"  />

<!-- Move Screen -->
        <area shape = "rect" coords = "247,1,301,39" 
            href = "Mov.html" target = "self"  />

<!-- Multi-Sync Screen -->
        <area shape = "rect" coords = "303,1,371,39" 
            href = "MultiSync.html" target = "self"  />

<!-- Config Screen -->
        <area shape = "rect" coords = "403,1,450,39" 
            href = "Config-More.html" target = "self"  />

<!-- Index Screens -->
        <!-- Index by divisions of a circle -->
        <area shape = "circle" coords = "98,123,13" 
            href = "Ind.html" target = "self"  />
        <!-- Index by degrees -->
        <area shape = "circle" coords = "153,123,13" 
            href = "Ind2.html" target = "self"  />
    </map>
</div>

<!-- ################################################### -->
<!-- Body - Left Side of the Screen                      -->
<!-- ################################################### -->

    <table align="Center" border="0">
        <tr height="60px">
            <td align="Center" bgcolor="#39762D" width="300px">
                <font color="White" size="4"><b>Index Screen</b>
                <br>File Option</font>
            </td>
        </tr>
    </table>
    
    <p><b>Purpose:</b>  This screen allows variable index sizes to be retrieved sequentially from a file stored on a microSD card.  This feature could be used to place evenly spaced features around the circumference of an ellipse (i.e., equal divisions of the ellipse), with the angular movement in degrees pre-calculated using a CAD program.
            
    <p>One example where this is very useful is when cutting barley corns around an oval rosette.  The increments needed change as the piece rotates around the oval.

    <p>Selecting the filename text box will open a dropdown list of files located on the microSD card.   <b>Note:</b>. The list of files is read when the system is powered on, not when the microSD card is inserted into the Teensy.  If the microSD card is inserted after the system is already running, you will have to power down and then back up to re-read the card's contents.
            
    <p>Use the Up and Down arrows to traverse the file list. While the dropdown list is active, all other controls on the page are disabled. The dropdown list can be closed either by selecting a file, or by touching the Filename text box. 

    <hr class="style1">
    <p>The file format is ASCII text (numbers, letters, and decimal only) with each number on a new line, saved to the microSD card using a separate computer. Because the SD Card library only supports the <a href="https://en.wikipedia.org/wiki/8.3_filename" >8.3 or Short File Name convention</a>, the file name must be a maximum 8 characters + a period + three-character extension (thus the 8.3); the name is not case sensitive.  It's not necessary to have the extension, but the limit for the name is 8 characters when no extension is used.  Multiple files can be loaded onto the microSD card for use on one or more work pieces as desired.

    <p>When using the <b>File</b> version, each successive index will read successive file numbers off the microSD card (in either </b>Div</b> or </b>Deg</b> as selected on this screen).  When the end of the file is reached, </b>Size</b> will be reset to 0.  The </b>Index</b> value will be increased when indexing clockwise and decreased when indexing counterclockwise.  The read position of the file can also be set by editing the <b>Index</b> value.

<!-- ################################################### -->
<!-- Variables   -->

    <table width="100%">
        <col width="125px">
        <col width="*">

        <tr>
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td>
                <span style="background-color: #FFEE9C"><b>
               &nbsp; File &nbsp;
                </b></span>
            </td>
            <td>
                <p style="margin-top: 0;">Selecting the file text box will open a dropdown list of files located on the microSD card. 
                
                <p><center><img src="Images/Screens/Index3.png" width="60%"></center>

                <p>Use the Up and Down arrows to traverse the file list.  The dropdown list can be closed either by selecting a file, or by touching the Filename textbox.
                
                <p>While the dropdown list is active, all other controls on the page are disabled. 

                <p>Each Index may have its own file.
            </td>
        </tr>

        <tr>
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td>
                <span style="background-color: lightgray"><b>
               &nbsp; Index &nbsp;
                </b></span>
            </td>
            <td>
                <p style="margin-top: 0;">This is the number of times the axis has been indexed.  It is decremented each time the spindle is moved counter clockwise, and incremented when moved clockwise.
            </td>
        </tr>

        <tr valign="top">
            <td>
                <span style="background-color: lightgray"><b>
                &nbsp; Degrees &nbsp;
                </b></span>
            </td>
            <td>
                <p style="margin-top: 0;">Displays the number of degrees which the next index will rotate the spindle.
            </td>
        </tr>

        <tr valign="top">
            <td>
                <span style="background-color: #FFEE9C"><b>
               &nbsp; Next Index &nbsp;
                </b></span>
            </td>
            <td>
                <p style="margin-top: 0;">This is the ID number for the next indexing operation.  If this is less than <span style="background-color: lightgray"><b>&nbsp;Index&nbsp;</b></span>, then the Clockwise button was last used; if it is higher, then the Counter Clockwise button was used.
                
                <p>Tapping on this does enable the user to reset the index; however that does not affect the position of the spindle.
            </td>
        </tr>
    </table>

    <hr class="style1">

<!-- ################################################### -->
<!-- Body - Bottom Right Side of the Screen              -->
<!-- ################################################### -->

    <table width="100%">
        <tr valign="Top">
            <td valign="top">
                <table align="Center" border="0">
                    <tr height="30px">
                        <td align="Center" bgcolor="#4C877A" width="85px">
                            <font color="White" size="2" face="Arial"><b>Enabled</b></font>
                        </td>
                    </tr>
                </table>
            </td>
            <td valign="top" width="45%">
                Indicates that the spindle stepper motor is enabled even when not in use.  Touch this to change it to <b>Disabled</b>.
            </td>
            <td valign="top" rowspan=3>
                The <a href="Config-More.html" target="_self">More</a> screen can be used to set this to be continuously Disabled or Enabled.  These buttons temporarily override that configuration setting.

                <p style="margin-bottom: 0;"><b><u>Key Note</u>:</b>When using <a href="https://www.omc-stepperonline.com/digital-stepper-driver-10-42a-20-50vdc-for-nema-17-23-24-stepper-motor-dm542t.html" target="_new">DM542T stepper motor drivers</a>, this needs to be <b>Enabled</b> (especially for work using indexing), otherwise the position will be lost and the movement will not be predictable.
            </td>
        </tr>

        <tr><td colspan=2><hr></td></tr>

        <tr valign="Top">
            <td valign="top">
                <table align="Center" border="0">
                    <tr height="30px">
                        <td align="Center" bgcolor="#CD3C21" width="85px">
                            <font color="White" size="2" face="Arial"><b>Disabled</b></font>
                        </td>
                    </tr>
                </table>
            </td>
            <td valign="top">
                Indicates that the stepper motor is only enabled when in use, and then disabled.  Touch this to change it to <b>Enabled</b>.
        </td>
        </tr>
    </table>

    <hr>
    <table width="100%">
        <tr valign="Top">
            <td>
                <img src="Images/Buttons/ButtonGreen3-CCW.png" width="35px">
            </td>
            <td>
                Used to index the stepper motor in a counter clockwise direction.  On a traditional lathe, this is considered forward.
            </td>
        </tr>
    </table>

    <hr>
    <table width="100%">
        <tr valign="Top">
            <td>
                <img src="Images/Buttons/ButtonGreen3-Stop.png" width="35px">
            </td>
            <td>
                Used to stop the motion of the stepper motor.  If the <img src="Images/ButtonIndex-Return.png" width="25px"> button is pressed next, the stepper motor is returned to the start position.  Otherwise the position is lost.
            </td>
        </tr>
    </table>

    <hr>
    <table width="100%">
        <tr valign="Top">
            <td>
                <img src="Images/Buttons/ButtonGreen3-Return.png" width="35px">
            </td>
            <td>
                Used to return the stepper motor to the start point of the previous operation.
                    
                <p>When using this function, Be sure to stop and retract the cutter from the cut first.  The return path does not always follow the same path as the initial cut.  (Backlash and other factors come into play here.)
                    
                <p style="margin-bottom: 0;">The speed of the return action is set in the <a href="Config-Returns.html">Preferences | Returns</a> screen.
            </td>
        </tr>
    </table>

    <hr>
    <table width="100%">
        <tr valign="Top">
            <td>
                <img src="Images/Buttons/ButtonGreen3-CW.png" width="35px">
            </td>
            <td>
                Used to index the stepper motor in a clockwise direction.  On a traditional lathe, this is considered forward.
            </td>
        </tr>
    </table>

<!-- ################################################### -->
<!-- Limit Switches -->

    <hr class="style2">
    <p><font color="DarkBlue" size="4"><b><a name="LimitSwitches">Limit Switches</a></font></b>
    <p>Limit switches cannot be used with this function.

</div>

<!-- ################################################### -->
<!-- Footer                                              -->
<!-- ################################################### -->
<div w3-include-html="include-Footer.html"></div> 
<script>
includeHTML();
</script> 
</body>
</html>
