<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<html>

<head bgcolor=#E6E6E6>
<title>ELFOS</title>
<link rel="shortcut icon" type="image/ico" href="favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="Images/favicon.png">

<body style="background-color: #E6E6E6; font: 16px Arial; ">

<!-- ################################################### -->
<!-- Code for Including Standard HTML files on the 	 -->
<!-- server					         -->
<!-- ################################################### -->
<script src="library.js"></script>

<script>
function includeHTML() {
  var z, i, elmnt, file, xhttp;
  /* Loop through a collection of all HTML elements: */
  z = document.getElementsByTagName("*");
  for (i = 0; i < z.length; i++) {
    elmnt = z[i];
    /*search for elements with a certain atrribute:*/
    file = elmnt.getAttribute("w3-include-html");
    if (file) {
      /* Make an HTTP request using the attribute value as the file name: */
      xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
          if (this.status == 200) {elmnt.innerHTML = this.responseText;}
          if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
          /* Remove the attribute, and call this function once more: */
          elmnt.removeAttribute("w3-include-html");
          includeHTML();
        }
      }
      xhttp.open("GET", file, true);
      xhttp.send();
      /* Exit the function: */
      return;
    }
  }
}
</script> 

<!-- ################################################### -->
<!-- Site Standards Include File        		  		 -->
<div w3-include-html="include-SiteStandards.html"></div> 
<script>
includeHTML();
</script>

<!-- ################################################### -->
<!-- Body - Right Side of the Screen                     -->
<!-- ################################################### -->

<body bgcolor=#E6E6E6 background="Images/DevBackground.png">

<div style="float: right;
        margin-top: 0px; margin-bottom: 5px;
        margin-left: 10px; margin-right: 0px; 
        padding-top: 0px; padding-bottom: 0px;
        padding-left: 0px; padding-right: 0px; 
        border: 0px solid black; 
        text-align: left;  
        background-color:#E6E6E6; 
        " >
        <img src = "Images/Screens/Rose.jpg" width = "450px" class = "Image" usemap="#html1">

<!-- area map based on an image size of 450px wide -->
    <map name = "html1">

<!-- Home Screen -->
        <area shape = "rect" coords = "1,1,44,39" 
            href = "Home.html" target = "self"  />

<!-- Sync Screen -->
        <area shape = "rect" coords = "70,1,125,39" 
            href = "Sync.html" target = "_self" />

<!-- Reciprocation Screen -->
        <area shape = "rect" coords = "127,1,181,39" 
            href = "Rec-Radial.html" target = "_self" />

<!-- Rose Screen -->
        <area shape = "rect" coords = "183,1,237,39" 
            href = "Rose.html" target = "_self" />

<!-- Greek Key Screen -->
        <area shape = "rect" coords = "239,1,307,39" 
            href = "Grk.html" target = "_self" />

<!-- Program Screen -->
        <area shape = "rect" coords = "309,1,377,39" 
            href = "Pgm.html" target = "_self" />

<!-- Config Screen -->
        <area shape = "rect" coords = "402,1,450,39" 
            href = "Config-More.html" target = "self"  />

   </map>
</div>
    
<!-- ################################################### -->
<!-- Body - Left Side of the Screen                      -->
<!-- ################################################### -->

        <table align="Center" border="0">
            <tr height="35px">
                <td align="Center" bgcolor="#5918BB" width="300px">
                    <font color="White" size="4"><b>Rose Screen</b>
                    <br>Geometric chuck</font>
                </td>
            </tr>
        </table>

        <p><div style="float: right; width: 100px; margin: 5px 5px 5px 5px; padding: 5px; border: 0px solid DarkGray; text-align: center;">
            <a href="Images/Nextion-Rose.png" target="_new" /><img src="Images/Nextion-Rose.png" width="100%" border=0></a>
        </div>

        <p><b>Purpose:</b>  This screen allows for the creation of a rose or single stage geometric chuck patterns (see also, <a href="https://en.wikipedia.org/wiki/Rose_(mathematics)" >Wikipedia Rose (mathematics)</a> -- the math explaining how the variables work is explained there).

        <p>The <b>M3</b> and <b>M4</b> axes are only available when either is set to <b>Linear</b>.
        
        <hr class="style1">
        
        <p style="margin-bottom: 0;"><font color="red"><u>Key Note</u>:</font> There is some pretty heavy duty math going on here, and some of the combinations of <b>n</b> and <b>d</b> get into calculations which can take the Teensy some time.  The result is that it can not be run as fast on the Z axis as with other operations.  
        
<!-- ★★★★★★★★★★★★★★★★★★★★★★★★★★★★★  -->
<!-- Starred Point -->

        <table width="100%" border=0>
            <tr valign="top">
                <td width="25px">&nbsp;</td>

                <td width="*">
                    <div style="float: left; width: 30px; margin: 5px 5px 5px 5px; padding: 5px; border: 0px solid DarkGray; text-align: center;">
                        <font color="red" size=6><b>&starf;</b></font>
                    </div>
                    
                    <p>200 is the recommended starting point for the Max Speed on the Z axis 
                    (<I>and also start at 50% on the slider</I>).  If the pattern does not turn out as expected, try running at a slower speed.
                </td>

                <td width="25px">&nbsp;</td>
            </tr>
        </table>

    <table width="100%">
        <col width="125px">
        <col width="*">

<!-- ################################################### -->
<!-- Variables   -->
        <tr>
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td colspan="999">
                <table width="100%">
                    <tr valign="top">
                        <td width="120px">
                            <span style="background-color: #FFEE9C"><b>
                            &nbsp;n&nbsp;
                            </b></span>
                        </td>
                        <td>
                            the numerator
                        </td>
                        <td align="center" valign="middle" rowspan="5" width="250px">
                            <div style="float: right; width: 400px; margin: 5px 5px 5px 5px; padding: 5px; border: 1px solid DarkGray; text-align: center; bgcolor: White">
                                <table>
                                    <tr>
                                        <td align="left" valign="top">
                                            <p style="margin-top: 0;"><b><b>Rose curves for various values of n & d</b></b>
                                            
                                            <br><I><font size=2>Click on the picture to see a larger version.</font></I>

                                            <p style="margin-bottom: 0;">You can also use the <a href="https://www.desmos.com/calculator/7tn7taznez" target="new" />Desmos Web Site</a> for visualizing the expected curve.
                                        </td>
                                        <td width="150px">
                                            <a href="Images/RoseCurves.png" target="_self" /><img src="Images/RoseCurves.png" width="100%" bgcolor="white" border=0></a>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </td>
                    </tr>

                    <tr valign="top">
                        <td colspan=2>
                            &nbsp;
                        </td>
                    </tr>

                    <tr valign="top">
                        <td>
                            <span style="background-color: #FFEE9C"><b>&nbsp;d&nbsp;</b></span>
                        </td>
                        <td>
                            the denominator
                        </td>
                    </tr>

                    <tr valign="top">
                        <td colspan=2>
                            &nbsp;
                        </td>
                    </tr>

                    <tr valign="top">
                        <td>
                            <span style="background-color: White"><b>&nbsp;k&nbsp;</b></span>
                        </td>
                        <td>
                            the ratio, <sup>n</sup>/<sub>d</sub>
                        </td>
                    </tr>

                </table>
        </tr>

        <tr valign="top">
            <td colspan=2>
                &nbsp;
            </td>
        </tr>

        <tr valign="top">
            <td>
                <span style="background-color: #FFEE9C"><b>&nbsp;Spindle Revolutions&nbsp;</b></span>
            </td>
            <td>
                <div style="float: right; width: 100px; margin: 5px 5px 5px 5px; padding: 5px; border: 0px solid DarkGray; text-align: center;">
                    <a href = "Images/RoseGraph2.png" target = "_self" />
                    <img src="Images/RoseGraph2.png" width="100%" bgcolor="white" border=0>
                    </a>
                </div>

                Number of revolutions the spindle should make before stopping.  This functionality very useful is useful for producing partially completed patterns like the one to the right.

                <p style="margin-bottom: 0;">If this is set to zero (0), the movement of the cutter will continue until the stop button is pressed.  This is useful for setting the depth of cut.
            </td>
        </tr>

        <tr valign="top">
            <td colspan=2>
                &nbsp;
            </td>
        </tr>

        <tr valign="top">
            <td width="121px">
                <span style="background-color: #FFEE9C"><b>&nbsp;Axis Amplitude&nbsp;</b></span>
            </td>
            <td>
                Sets <b>height</b> (distance along Z or X Axes) of each lobe and is dependent upon value entered in <a href="Config-ZAxis.html">Configuration Screen</a> for <b>Distance/360</b> for the axis you are using. If using the M3 or M4 axis with radial movement, the gear ratio sets this value.
            </td>
        </tr>

        <tr valign="top">
            <td colspan=999>
            <hr class="style2">

            <p><b>Usage Notes:</b> It is important to develop a rhythm of steps which are constantly followed.  Skipping one of the steps will cause unwanted cuts to be added to your piece.
            
            <p>Be sure to setup for the first series of cuts to allow the backlash to be absorbed before beginning the cuts.  This is the location where the cutter will return to after each series, so giving a little space is recommended.

            <p>After setting up for the first series of cuts,
            
                <ol>
                    <li>Start the cutter (e.g., the overhead drive)</li>
                    
                    <li>Engage the cutter to the desired depth.  Record the setting for this so it can be repeated.</li>
                    
                    <li>Start the first series, using either the <img src="Images/Buttons/ButtonDarkBlue-CCW.png" width="35px" /> or <img src="Images/Buttons/ButtonDarkBlue-CW.png" width="35px" /> button.</li>
                    
                    <li>Retract the cutter from the piece.</li>
                    
                    <li>Return the cutter to the start position using the <img src="Images/Buttons/ButtonDarkBlue-Return.png" width="35px" /> button.</li>
                    
                    <li>Index the cut using one of the 4 indexing buttons.    The one used is not relevant; however it is best to stay with the same one for each set of indexes.</li>
                    
                    <table>
                        <tr height="30px">
                            <td>
                                <img src="Images/Buttons/ButtonDarkBlue-In.png" height="35px" />
                            </td>
                            <td>
                                &nbsp;
                            </td>
                            <td>
                                <img src="Images/Buttons/ButtonDarkBlue-Out.png" height="35px" />
                            </td>
                            <td>
                                &nbsp;
                            </td>
                            <td align="Center" bgcolor="#2A4F98" width="35px" >
                                <font color="White" size="2" face="Arial"><b>CCW</b></font>
                            </td>
                            <td>
                                &nbsp;
                            </td>
                            <td align="Center" bgcolor="#2A4F98" width="35px">
                                <font color="White" size="2" face="Arial"><b>CW</b></font>
                            </td>
                        </tr>
                    </table>

                    <li>Continue on to the next cut by returning to step 1.</li>
                </ol>
            </td>
        </tr>

    <table width="100%">
        <col width="125px">
        <col width="*">

<!-- ################################################### -->
<!-- Controls   -->

        <tr>
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td>
                <img src="Images/Buttons/ButtonDarkBlue-In.png" width="35px">
                <p><img src="Images/Buttons/ButtonDarkBlue-Out.png" width="35px">

                <p><span style="background-color: LightGray"><b>&nbsp;Indexes&nbsp;</b></span>
            </td>

            <td>
                <p style="margin-top: 0;">These buttons are used to move the cutter along the Z or X axis to the next pattern starting position.  The amount of movement is set on the <a href="Mov.html">Move Screen</a>.
                
                <p>After one indexing is executed, that direction's button will be &quot;lit&quot; (the arrow will change to red).  This makes it easier to index again in the same direction.
                
                <p>The value shown in gray indicates the number of times the axis has been indexed. It is decremented each time the stepper motor is moved counter clockwise, and incremented when moved clockwise.
                                
                <p style="margin-bottom: 0;"><b>Note:</b>  the speed for the indexing movement is set on the Move Screen.

            </td>
        </tr>

        <tr valign="top">
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td>
                <table border="0">
                    <tr height="30px">
                        <td align="Center" bgcolor="#2A4F98" width="35px">
                            <font color="White" size="3" face="Arial"><b>CCW</b></font>
                        </td>
                    </tr>
                </table>

                <table border="0">
                    <tr height="30px">
                        <td align="Center" bgcolor="#2A4F98" width="35px">
                            <font color="White" size="3" face="Arial"><b>CW</b></font>
                        </td>
                    </tr>
                </table>
                
                <p><span style="background-color: LightGray"><b>&nbsp;Indexes&nbsp;</b></span>
            </td>

            <td>
                <p style="margin-top: 0;">These buttons are used to index to the next pattern starting position.  The indexing is for the:
                    <ul>
                        <li>Spindle,</li>
                        <li>M3,</li>
                        <li>M4, or</li>
                        <li>Spindle &amp; M3 (in Synchro mode)</li>
                    </ul>
                
                <p>The amount of movement is set on the <a href="Ind.html">Index Screen</a>.
                
                <p>After one indexing is executed, that direction's button will be &quot;lit&quot; (the letters will change to red).  This makes it easier to index again in the same direction.
                
                <p>The value shown in gray indicates the number of times the axis has been indexed. It is decremented each time the stepper motor is moved counter clockwise, and incremented when moved clockwise.
                                
                <p style="margin-bottom: 0;"><b>Note:</b>  the speed for the indexing movement is set on the Index Screen.
            </td>
        </tr>




        <tr>
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td>
                <table border="0">
                    <tr height="30px">
                        <td align="Center" bgcolor="#5918BB" width="75px">
                            <font color="White" size="2" face="Arial"><b>Synchro</b></font>
                        </td>
                    </tr>
                </table>
                
                <p style="margin-bottom: 0;"><span style="background-color: #FFEE9C"><b>
                &nbsp; Sync % &nbsp;
                </b></span>
                
            </td>
            <td>
                <p style="margin-top: 0;">This option is used to run the spindle and M3 stepper motors synchronously at the specified percentages. Negative numbers run the spindle and M3 in opposite directions.

                <p>This option only works if the Synchro function button is enabled (not red).

                <p style="margin-bottom: 0;">This function is useful for activities such as having the spindle and the rosette(s) run at different revolutions per minute (i.e., a second stepper motor is driving the rosette's rotation).
            </td>
        </tr>
        
<!-- ################################################### -->
<!-- Stepper Motor Controls   -->

        <tr>
            <td colspan=999>
                <hr class="style1">
            </td>
        </tr>

        <tr valign="top">
            <td>
                <b>Speed</b>
            </td>
            <td>
                The controls on the left and right side of the screen are for controlling the respective stepper motor's speed and acceleration.

                <p>To change the Max Speed, touch the number, and you will be presented with the <a href="NumberPad.html">Number Pad Screen</a>.</p>

                <p>The slider is a red bar that can be moved up to increase the speed, or down to decrease it.
                
                <p style="margin-bottom: 0;"><b>Want to understand this better?</b>  More details about the stepper motor speeds are on <a href="Speed.html">this page</a>.            </td>
        </tr>

        <tr>
            <td colspan=999>
                &nbsp;
            </td>
        </tr>

        <tr valign="top">
            <td>
                <b>Acceleration</b>
            </td>
            <td>
                The bottom number (6000 on the left; 5000 on the right) is the acceleration for the stepper motor.

                <p>To change this value, touch the number, and you will be presented with the <a href="NumberPad.html">Number Pad Screen</a>.

            </td>
        </tr>
    </table>

<hr class="style2">

        <table width="100%">
            <tr valign="Top">
                <td valign="top">
                    <table align="Center" border="0">
                        <tr height="30px">
                            <td align="Center" bgcolor="#5918BB" width="85px">
                                <font color="White" size="2" face="Arial"><b>Enabled</b></font>
                            </td>
                        </tr>
                    </table>
                </td>
                <td valign="top" width="45%">
                    Indicates that the selected stepper motor is enabled even when not in use.  Touch this to change it to <b>Disabled</b>.
                </td>
                <td valign="top" rowspan=3>
                    The <a href="Config-More.html" target="_self">More</a> screen can be used to set this to be continuously Disabled or Enabled.  These buttons temporarily override that configuration setting.

                    <p style="margin-bottom: 0;"><b><u>Key Note</u>:</b>When using <a href="https://www.omc-stepperonline.com/digital-stepper-driver-10-42a-20-50vdc-for-nema-17-23-24-stepper-motor-dm542t.html" target="_new">DM542T stepper motor drivers</a>, this needs to be <b>Enabled</b> (especially for work using indexing), otherwise the position will be lost and the movement will not be predictable.
                </td>
            </tr>

            <tr><td colspan=2><hr></td></tr>

            <tr valign="Top">
                <td valign="top">
                    <table align="Center" border="0">
                        <tr height="30px">
                            <td align="Center" bgcolor="#CD3C21" width="85px">
                                <font color="Black" size="2" face="Arial"><b>Disabled</b></font>
                            </td>
                        </tr>
                    </table>
                </td>
                <td valign="top">
                    Indicates that the selected stepper motor is only enabled when in use, and then disabled.  Touch this to change it to <b>Enabled</b>.
                </td>
            </tr>
        </table>

        <hr>
        <table width="100%">
            <tr valign="Top">
                <td>
                    <img src="Images/Buttons/ButtonGeo-CW.png" width="35px">
                </td>
                <td>
                    Used to turn the spindle counter-clockwise. On a traditional lathe, this is considered forward.
                </td>
            </tr>
        </table>

        <hr>
        <table width="100%">
            <tr valign="Top">
                <td>
                    <img src="Images/Buttons/ButtonMove-Stop.png" width="35px">
                </td>
                <td>
                    Used to stop the motion of the stepper motor.
                </td>
            </tr>
        </table>

        <hr>
        <table width="100%">
            <tr valign="Top">
                <td>
                    <img src="Images/Buttons/ButtonMove-Return.png" width="35px">
                </td>
                <td>
                    Used to return the spindle or the selected axis to the start point of the rose pattern.
                    
                    <p>When using this function, Be sure to stop and retract the cutter from the cut first.  The return path does not always follow the same path as the initial cut.  (Backlash and other factors come into play here.)
                    
                    <p style="margin-bottom: 0;">The speed of the return action is set in the <a href="Config-Returns.html">Preferences | Returns</a> screen.
                </td>
            </tr>
        </table>

        <hr>
        <table width="100%">
            <tr valign="Top">
                <td>
                    <img src="Images/Buttons/ButtonGeo-CCW.png" width="35px">
                </td>
                <td>
                    Used to turn the spindle clockwise. On a traditional lathe, this is considered reverse. To change the direction of the spindle, you must stop it first. You cannot directly swap between clockwise and counter-clockwise.
                </td>
            </tr>
        </table>

        <hr>
        <table width="100%">
            <tr valign="Top">
                <td>
                    <table align="Center" border="0">
                        <tr height="30px">
                            <td align="Center" bgcolor="#5918BB" width="85px">
                                <font color="White" size="2" face="Arial"><b>Config</b></font>
                            </td>
                        </tr>
                    </table>
                </td>
                <td>
                    <div style="float: right; width: 150px; margin: 5px 5px 5px 5px; padding: 5px; border: 1px solid black; text-align: left; background-color:#5918BB">
                        <font color="White" size="2">Touch <b>Config</b> on the screen image above to see the details for this screen.</font>
                    </div>

                    This is used to display or edit the configuration settings for the MaxSpeed and the Acceleration for the respective stepper motors.
                </td>
            </tr>
        </table>

<!-- ################################################### -->
<!-- Limit Switches -->

    <hr class="style2">
    <p><font color="DarkBlue" size="4"><b><a name="LimitSwitches">Limit Switches</a></font></b>
    <p>Limit switches can be used with this function.  The pins used for this are configured on the <a href="Config-Limits.html">Limit Switches Configuration Screen</a>.  (More information about the implementation of limit switches is on that page.)

<!-- ################################################### -->
<!-- References -->

    <br>
    <hr class="style2">
    <p><font color="DarkBlue" size="4"><b><a name="LimitSwitches">Reference Documents</a></font></b>
    
    <ol>
        <li>The geometric mathematics behind this movement are explained by <a href="https://en.wikipedia.org/wiki/Frank_Farris" target="_new">Dr. Frank A. Farris</a> in his 1996 paper, &quot;<a href="https://scholarcommons.scu.edu/cgi/viewcontent.cgi?article=1004&context=math_compsci" >Wheels on Wheels on Wheels-Surprising Symmetry</a>&quot;.</li>
        
        <br>
        <li>There is also a nice <a href="https://mathworld.wolfram.com/Rose.html" >article on this</a> at <a href="https://mathworld.wolfram.com" >Wolfram MathWorld</a>.</li>
        
        <br>
        <li>One good historical reference is <a href="https://ornamentalturning.net/victorian_era_turner-bazley.html" target="_new">Sir Thomas Sebastian Bazley</a>'s 1875 book, <a href="https://archive.org/details/indextogeometri00bazlgoog/page/n11/mode/2up" target="_new">Index to the Geometric Chuck</a>.  There are some great pictures showing the result of the process.</li>
    </ol>

</div>

<!-- ################################################### -->
<!-- Footer                                              -->
<!-- ################################################### -->
<div w3-include-html="include-Footer.html"></div> 
<script>
includeHTML();
</script> 
</body>
</html>
