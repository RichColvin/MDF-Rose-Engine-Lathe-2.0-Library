<!DOCTYPE html>
<html>

<!-- ################################################### -->
<!-- Style Sheet for MathJax                                                                 -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!-- ################################################### -->
<!-- Style Sheet for Horizontal Rule - Style 0                                       -->
 <style>
    hr.style0 {
        border: 0;
        height: 1px;
        background-image: linear-gradient(to right,
                rgba(184,134,11, 2),
                rgba(184,134,11, 2),
                rgba(184,134,11, 2));
    }
</style>

<!-- ################################################### -->
<!-- Style Sheet for Horizontal Rule - Style 1                                       -->
 <style>
    hr.style1 {
        border: 0;
        height: 3px;
        background-image: linear-gradient(to right,
            rgba(0, 0, 0, 0),
                rgba(184,134,11, 2),
            rgba(0, 0, 0, 0));
    }
</style>

<!-- ################################################### -->
<!-- Style Sheet for Horizontal Rule - Style 2                                       -->
 <style>
    hr.style2 {
        border: 0;
        height: 6px;
        background-image: linear-gradient(to right,
            rgba(0, 0, 0, 0),
                rgba(184,134,11, 2),
            rgba(0, 0, 0, 0));
    }
</style>

<!-- ################################################### -->
<!-- Style Sheet for indented paragraphs                                             -->
<style>
    .indented { padding-left: 33pt; padding-right: 33pt; }
</style>

<!-- ################################################### -->
<!-- <body background="Images/Background.png"> -->
	<font face="Georgia">

<!-- ################################################### -->
<!-- Style Sheet for header image max size                                         -->
<!-- ################################################### -->
<style>
    img.Image { max-width: 500px;}
</style>

<!-- ################################################### -->
<!-- Style Sheet for split screen                                                            -->
<!-- ################################################### -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body {
        font-family: Georgia;
    }

.split1 {
  height: calc(100% - 130px);
  min-width: 450px;
  max-width: 450px;
  position: fixed;
  z-index: 1;
  top: 0;
  overflow-x: hidden;
  padding-top: 20px;
}

.split2 {
  height: calc(100% - 130px);
  width: calc(100% - 490px);
  position: fixed;
  z-index: 1;
  top: 0;
  overflow-x: hidden;
  padding-top: 20px;
}

.left {
  left: 0;
  background-color: #111;
}

.right {
  right: 0;
  background-color: blue;
}

.centered {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.centered img {
  width: 150px;
  border-radius: 50%;
}
</style>

<!-- ################################################### -->
<!-- Style Sheet for footer                                                                     -->
<!-- ################################################### -->
<style>
.footer {
   position: fixed;
   left: 0;
   bottom: 0;
   width: 100%;
   background-color: #E6E6E6;
   text-align: center;
}
</style>

<!-- ################################################### -->
<!-- Calculate Distance/360 -->
    <script>
	    function calcValues()    {

			var fmmInch = 0.0393701;
	    	var x = document.getElementById("frm1");

		// ###################################################
		// Get the Headstock Lever Arm Length
		//
			fMetricPitch = Number(x.elements[0].value);
			
		// ###################################################
		// Get the AA lever Arm Length
		//
			iLSStarts = Number(x.elements[1].value);

		// ###################################################
		// Calculate the Values
		//

            var fImpDist360 = fMetricPitch * iLSStarts * fmmInch;
    		document.getElementById("ImpDist360").innerHTML = fImpDist360.toFixed(5);
    		
            fMetricDist360 = fMetricPitch * iLSStarts;
    		document.getElementById("MetricDist360").innerHTML = fMetricDist360.toFixed(1);


            var fImpPitch = fMetricPitch * fmmInch;
    		document.getElementById("ImpPitch").innerHTML = fImpPitch.toFixed(5);

            var fScrewTPI = 1 / fImpPitch;
    		document.getElementById("ScrewTPI").innerHTML = fScrewTPI.toFixed(1);
		}
	</script>

<!-- ################################################### -->
<!-- Header                                                                                           -->
<!-- ################################################### -->

<head bgcolor=#E6E6E6>
    <title>MDF Rose Engine 2.0</title>
    <link rel="shortcut icon" type="image/ico" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="Images/favicon.png">

<font face="Georgia">

<table width="100%" border=0>
        <col width="10%">
        <col width="*">
        <col width="10%">

    <tr valign="bottom">
        <td align="left">
            <a href = "javascript:history.back()"><img src="Images/BackButton.png" width="30px"></a>
        </td>
        <td align="center" valign="top">
            <a href="NextionUserGuide.html"><font color="DarkBlue" size="6"><b>
                Nextion Multiple Stepper Control User's Guide</a>
            </b></font>
        </td>
        <td align="right">
            <a href="index.html"><img src="Images/Books.png" width="50px" class="Image"></a>
        </td>
    </tr>
</table>

</head>

<!-- ################################################### -->
<!-- Body - Right Side of the Screen                                                     -->
<!-- ################################################### -->

<body bgcolor=#E6E6E6>
    <div style="margin: 60px 5px 5px 5px; padding: 5px; border: 1px solid black; text-align: left; background-color:#E6E6E6" class="split1 right" >
                <img src="Images/Nextion-Config-XAxis.png" width="100%" class="Image" alt="HTML Map" border="0" usemap="#html">
                <map name = "html">

                     <area shape = "rect" coords = "230,42,258,70" href = "NextionUserGuide-Config-XAxisAlt.html" target = "_self" />

                     <area shape = "rect" coords = "3,3,76,35" href = "NextionUserGuide-Config-Spindle.html" target = "_self" />
                     <area shape = "rect" coords = "3,40,76,72" href = "NextionUserGuide-Config-ZAxis.html" target = "_self" />
                     <area shape = "rect" coords = "3,77,76,109" href = "NextionUserGuide-Config-XAxis.html" target = "_self" />
                     <area shape = "rect" coords = "3,113,76,146" href = "NextionUserGuide-Config-BAxis.html" target = "_self" />
                     <area shape = "rect" coords = "3,150,76,183" href = "NextionUserGuide-Config-Limits.html" target = "_self" />
                     <area shape = "rect" coords = "3,186,76,220" href = "NextionUserGuide-Config-Returns.html" target = "_self" />
                     <area shape = "rect" coords = "3,222,76,257" href = "NextionUserGuide-Config-More.html" target = "_self" />
                     
                     <area shape = "rect" coords = "374,3,446,33" href = "javascript:history.back()" target = "_self" />
                </map>

                <br>
                <p><hr>
                <p><table>
                    <tr valign="Top">
                        <td>
                            <img src="Images/ButtonSettings-Back.png" width="75px">
                        </td>
                        <td>
                            Used to return to the prior screen.
                        </td>
                    </tr>
                    <tr><td colspan=999><hr></td></tr>
                    <tr valign="Top">
                        <td>
                            <img src="Images/ButtonSettings-Refresh.png" width="75px">
                        </td>
                        <td>
                            Used to refresh the values shown in the gray boxes.
                        </td>
                    </tr>
                </table>
    </div>

<!-- ################################################### -->
<!-- Body - Left Side of the Screen                                                       -->
<!-- ################################################### -->

    <div style="float: left; margin: 60px 5px 5px 5px; padding: 5px; border: 0px solid black; text-align: left; background-color:#E6E6E6" class="split2 left" >
        <table align="Center" border="0">
	        <tr height="35px">
                <td align="Center" bgcolor="#0B3861" width="300px">
                    <font color="White" size="4"><b>Preferences Screen</b></font>
                </td>
            </tr>
        </table>

        <p><div style="float: right; width: 200px; margin: 5px 5px 5px 5px; padding: 5px; border: 1px solid black; text-align: left; background-color:#3980C0">
            <font color="White" size="2">Touch the buttons on the screen image to the right to see the details for the that screen.</font>
        </div>

        <b>Purpose:</b>  The factors on these screens control how speeds and distances are determined.
            <ul>
                <li>The values shown in a <span style="background-color: #FFEE9C">&nbsp;tan box&nbsp;</span> show values on the Nextion.  Touching one of the text boxes allows you to edit that value using the <a href="NextionUserGuide-NumberPad.html">Number Pad</a> screen.</li>
                <br>
                <li>The values shown in a <span style="background-color: LightGray">&nbsp;gray box&nbsp;</span>  show the ones stored on the Teensy controller.  These are read only and should match the settings on the Nextion.</li>
            </ul>

        <table width="100%">
            <col width="125px">
            <col width="*">

<!-- ################################################### -->
<!-- Controls 1  -->

            <tr valign="top">
                <td>
                    <img src="Images/SquareChecked.png" width="20px" height="20px"> <b>X Axis</b>
                </td>
                <td>
                    The X axis can use two different steppers.  This is used to set the operation of the X Axis.
                </td>
            </tr>

            <tr>
                <td colspan=999>
                  &nbsp;
                </td>
            </tr>

            <tr valign="top">
                <td>
                    <img src="Images/SquareUnChecked.png" width="20px" height="20px"> <b>Alt X</b>
                </td>
                <td>
                    Alternate X will usually be used to adjust a curvilinear arm while the main X axis is floating.
                </td>
            </tr>

<!-- ################################################### -->
<!-- Variables   -->
            <tr>
                <td colspan=999>
                    <hr class="style2">
                </td>
            </tr>

            <tr valign="top">
                <td>
                    <span style="background-color: #FFEE9C"><b>
                  &nbsp;Microsteps&nbsp;
                    </b></span>
                </td>
                <td>
                    This must use valid values for the stepper driver, and is usually 1, 2, 4, 16, 32, 64, or 128.  These settings must match the jumper settings on the PCB.

                    <br><br><b>32</b> is the designed value for the MDF Rose Engine Lathe 2.0.
                </td>
            </tr>

            <tr>
                <td colspan=999>
                  &nbsp;
                </td>
            </tr>

            <tr valign="top">
                <td>
                    <span style="background-color: #FFEE9C"><b>
                  &nbsp;Steps/360&nbsp;
                    </b></span>
                </td>
                <td>
                    This must use valid values for the stepper motor.  The typical step angle is 1.8 deg, so this would be

\[
\frac{360 \, \mathrm{deg}}{1.8  \, \mathrm{deg}} = 200
\]

                    <b>200</b> is the designed value for the MDF Rose Engine Lathe 2.0.
                </td>
            </tr>

            <tr>
                <td colspan=999>
                  &nbsp;
                </td>
            </tr>

            <tr valign="top">
                <td>
                    <span style="background-color: #FFEE9C"><b>
                  &nbsp;Distance/360&nbsp;
                    </b></span>
                </td>
                <td>
                    This is the distance the carriage moves in one revolution of its stepper motor. It is a value which can arrived at two ways:
                        <ol>
                            <li>Empirically by measuring the movement along the selected axis while the stepper motor revolves a set number of turns.  This can be accomplished by entering a value in <b>Distance/360</b> such as 1, then using the <a href="MSMCS-Mov.html">Move Screen</a> to move a Distance of 20 while measuring.  This should turn the motor through 20 full revolutions.  Divide the distance traveled by 20 and enter calculated value into <b>Distance/360</b>.  If the total distance moved in 20 revolutions is insignificant, use a larger <i>Distance</i> number like 50 (or even 100).
                            
                            <p>Note that best practice is to remove backlash from the axis' mechanism prior to the measurement run by moving the axis in the same direction.  It may be possible to get a starting point for Distance/360 by calculation calculating the stepper pulley to driven pulley ratio, and/or the thread pitch.</li>
                            
                            <li>Alternatively, it can be calculated using the lead screw's information (if known).  If you built your cross slide using a lead screw with metric threads (e.g., as is typically used for 3D printers), common values are 2 mm pitch and 4 starts.  The calculator below can make the <b>Distance/360</b> calculation easier.

                            <p><form id="frm1">
                        		<table border="1" width="100%">
                                	<col width="75px">
            	    	        	<col width="*">
                        	        <col width="75px">
                    	            <col width="35px">

                        			<tr bgcolor="Moccasin">
			                        	<td colspan="999">
				                            <font color="blue" size="4"><b>
        				                    Distance/360 Calculator
		            		                </b></font>
                		        		</td>
 	       		                    </tr>

                         			<tr bgcolor="White">
                    	    		    <td rowspan=4>
				                            Lead Screw
            			            	</td>
            	    		            <td rowspan=2>
				                            Pitch
                    			    	</td>
                                        <td align="Right">
                                            <input
                                                type="number"
                                                style="font-size:14px; text-align: right; width: 65px; background-color:#FFEE9C" 
             							       name="MetricPitch" 
        	            						step='0.1' 
		                    					placeholder='0.0' 
 			                    				value=2.0
        		    	            			/>
 				                       </td>
             				           <td>
 	              			               mm
 			               	           </td>
 			       	                </tr>
                         			<tr bgcolor="White">
                                        <td align="Right">
   		         	 		                <p id="ImpPitch" style="margin: 0px; padding: 0px;"></p>
 				                       </td>
             				           <td>
 	              			               &quot;
 			               	           </td>
 			       	             </tr>

            			            <tr bgcolor="White">
                        				<td>
		    	                    		TPI
                		        		</td>
            				            <td align="Right">
   			 		                        <p id="ScrewTPI" style="margin: 0px; padding: 0px;"></p>
                    			    	</td>
		        	                	<td>
                        				</td>
	                	        	</tr>

                    		    	<tr bgcolor="White">
                    			    	<td>
				        	                Starts
            			        	    </td>
     				                   <td align="Right">
                         					<input 
	                 	       					type="number"
     		             		     			style="font-size:14px; text-align: right; width: 65px; background-color:#FFEE9C" 
         	       					    	name="LSStarts" 
		        	    				    step='1' 
				            			    placeholder='0' 
 					   	        	        value=4
        						            />
        	    			            </td>
                        				<td>
			                        	</td>
            	    	        	</tr>

            			            <tr bgcolor=#E0E6F8>
                        				<td colspan=2 rowspan=2>
		    	                    		Distance/360
                		        		</td>
            				            <td align="Right">
   			 		                        <p id="MetricDist360" style="margin: 0px; padding: 0px;"></p>
                    			    	</td>
		        	                	<td>
			                        	    mm
                		        		</td>
	                		        </tr>
            			            <tr bgcolor=#E0E6F8>
            				            <td align="Right">
   			 		                        <p id="ImpDist360" style="margin: 0px; padding: 0px;"></p>
                    			    	</td>
		        	                	<td>
			                        	    &quot;
                		        		</td>
	                		        </tr>
                        		</table>
                        	</form>

                            <p><center>
    	                        <button type="button" onclick="calcValues()" style="font-size:18px; background-color: #0404B4; color: white;">
                        		Calculate Distance/360
	                            </button>
                        	</center>
                            </li>
                        </ol>

                    <p>Finally, it is important to note that if you use different apparatuses (such as a cross-slide, or a spherical or a curvilinear apparatus) with this axis, each will likely have a different value for Distance/360.  It is a good idea to label each apparatus.  
                    
                    <p>An example is below:
                    
                    <table border=1 align="center">
                        <tr bgcolor="White" height="35px">
                            <td width="150px" align="center">
                                <font face="Arial"><b>
                                Distance/360
                                <br>
                                0.31496&quot; / 8mm
                                </b></font>
                            </td>
                        </tr>
                    </table>
                    
                </td>
            </tr>

<!-- ################################################### -->
<!-- Controls 2  -->

            <tr>
                <td colspan=999>
                    <hr class="style1">
                </td>
            </tr>

            <tr valign="top">
                <td>
                    <b>
                    Polarity
                    </b>
                </td>
                <td>
                    The <b>Polarity</b> High and Low radio buttons for both Spindle and Z Axis are set as:
                    <br><br>

                    <table>
                        <tr valign="top">
                            <td>
                                <b>High</b>
                            </td>
                            <td width="25px">
                                <img src="Images/CircleUnChecked.png" width="20px" height="20px">
                            </td>
                            <td>
                                High setting is for use for some external stepper drivers
                                <br><br>
                            </td>
                        </tr>
                        <tr valign="top">
                            <td>
                                <b>Low</b>
                            </td>
                            <td width="25px">
                                <img src="Images/CircleChecked.png" width="20px" height="20px">
                            </td>
                            <td>
                                Low is the default, which is the correct setting when using the StepperOnline DM542T and the Pololu DRV8825 Stepper Drivers.
                                <br><br>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>

            <tr>
                <td colspan=999>
                  &nbsp;
                </td>
            </tr>

            <tr valign="top">
                <td>
                    <b>
                    Leadscrew
                    </b>
                </td>
                <td>
                    <b>Leadscrew</b> should be set to the thread direction of the axis leadscrew.
                    <br><br>

                    <table>
                        <tr valign="top">
                            <td width="90px">
                                <b>Left Hand</b>
                            </td>
                            <td width="25px">
                                <img src="Images/CircleChecked.png" width="20px" height="20px">
                            </td>
                            <td>
                                Use when using an apparatus with a left-handed threaded rod.  A Hardinge compound slide-rest has a left-hand thread.
                                <br><br>
                            </td>
                        </tr>
                        <tr valign="top">
                            <td>
                                <b>Right Hand</b>
                            </td>
                            <td width="25px">
                                <img src="Images/CircleUnChecked.png" width="20px" height="20px">
                            </td>
                            <td>
                                Use when using an apparatus with a right-handed threaded rod
                                <br><br>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>

<!-- ★★★★★★★★★★★★★★★★★★★★★★★★★★★★★  -->
<!-- Starred Point -->

        <table width="100%" border=0>
            <tr valign="top">
                <td width="25px">&nbsp;</td>

                <td width="*">
                    <div style="float: left; width: 30px; margin: 5px 5px 5px 5px; padding: 5px; border: 0px solid DarkGray; text-align: center;">
                        <font color="red" size=6><b>&starf;</b></font>
                    </div>
                    
                    <p><font color="Red" >
                    Strongly recommend you take care when changing these.
                    </font>
                </td>

                <td width="25px">&nbsp;</td>
            </tr>
        </table>

</div>

<!-- ################################################### -->
<!-- Footer                                                                                             -->
<!-- ################################################### -->
<div class="footer">
    <hr class="style0">
    <font size="3">
    <table width="100%">
        <col width="75%">
        <col width="25%">

        <tr valign="top">
            <td align="left">
                Questions or comments?  Contact us at
                <br><a href="mailto:ColvinTools@Gmail.com?Subject=General" target="_new">ColvinTools@Gmail.com</a>
            </td>
            <td align="right">
                <a href="../index-Disclaimers.html">Disclaimers</a>
            </td>
        </tr>
    </table>
</div>
</body>
</html>